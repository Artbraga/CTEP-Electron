<p-growl [(value)]="msgs"></p-growl>

<p-panel header="Informações Pessoais" 
        [toggleable]="true" 
        [style]="{'margin-bottom':'20px', 'width':'100%'}"
        [collapsed]="true">
        <div class="ui-g form-group">
                <div class="ui-lg-12">
                        <label>Nome Completo:</label>
                        <input type="text" 
                                [(ngModel)]="element.nome"
                                pInputText 
                                style="width: 100%"
                                [ngClass]="isCampoInvalido('nome')?'invalidField':''"/>
                </div>
                <div class="ui-lg-4 ui-md-6">
                        <label>CPF:</label>
                        <input type="text" 
                                [(ngModel)]="element.cpf"
                                pInputText 
                                style="width: 100%"
                                [ngClass]="isCampoInvalido('cpf')?'invalidField':''"/>
                </div>
                <div class="ui-lg-4 ui-md-6">
                        <label>RG:</label>
                        <input type="text" 
                                [(ngModel)]="element.rg"
                                pInputText 
                                style="width: 100%"
                                [ngClass]="isCampoInvalido('rg')?'invalidField':''"/>
                </div>
                <div class="ui-lg-4 ui-md-6">
                        <label>Data de Nascimento:</label>
                        <p-calendar [(ngModel)]="element.dataNascimento" 
                                dateFormat="dd/mm/yy"
                                [showIcon]="true"
                                [style]="{'width':'100%'}"
                                [locale]="br"
                                [showButtonBar]="true"
                                [inputStyle]="{'width':'calc(100% - 34px)'}"></p-calendar>
                </div>
                <div class="ui-lg-4 ui-md-6">
                        <label>CEP:</label>
                        <div>
                                <div class="ui-lg-7 ui-md-7" style="padding: 0; float: left;">
                                        <input type="text" 
                                                [(ngModel)]="element.cep"
                                                pInputText 
                                                style="width: 100%"
                                                [ngClass]="isCampoInvalido('cpf')?'invalidField':''"/>
                                </div>
                                <div class="ui-lg-5 ui-md-5" style="padding: 0; float: left;">
                                        <button (click)="buscarCEP()" 
                                                pButton type="button" 
                                                [disabled]="desabilitarBotaoBuscaCep()" 
                                                label="Buscar CEP"
                                                class="form-button"
                                                title="Buscar CEP"></button>
                                </div>
                        </div>
                </div>
                <div class="ui-lg-8 ui-md-12">
                        <label>Endereço:</label>
                        <input type="text" 
                                [(ngModel)]="element.endereco"
                                pInputText 
                                style="width: 100%"
                                [ngClass]="isCampoInvalido('endereco')?'invalidField':''"/>
                </div>
                <div class="ui-lg-4 ui-md-6">
                        <label>Complemento:</label>
                        <input type="text" 
                                [(ngModel)]="element.complemento"
                                pInputText 
                                style="width: 100%"/>
                </div>
                <div class="ui-lg-4 ui-md-6">
                        <label>Bairro:</label>
                        <input type="text" 
                                [(ngModel)]="element.bairro"
                                pInputText 
                                style="width: 100%"/>
                </div>
                <div class="ui-lg-4 ui-md-6">
                        <label>Cidade:</label>
                        <input type="text" 
                                [(ngModel)]="element.cidade"
                                pInputText 
                                style="width: 100%"/>
                </div>
                <div class="ui-lg-6 ui-md-6">
                        <label>Nome do Pai:</label>
                        <input type="text" 
                                [(ngModel)]="element.nomePai"
                                pInputText 
                                style="width: 100%"/>
                </div>
                <div class="ui-lg-6 ui-md-6">
                        <label>Nome da Mãe:</label>
                        <input type="text" 
                                [(ngModel)]="element.nomeMae"
                                pInputText 
                                style="width: 100%"/>
                </div>
                <div class="ui-lg-4 ui-md-6">
                        <label>E-mail:</label>
                        <input type="text" 
                                [(ngModel)]="element.email"
                                pInputText 
                                style="width: 100%"/>
                </div>
                <div class="ui-lg-3 ui-md-4">
                        <label>Telefone:</label>
                        <input type="text" 
                                [(ngModel)]="element.telefone"
                                pInputText 
                                style="width: 100%"/>
                </div>
                <div class="ui-lg-3 ui-md-4">
                        <label>Celular:</label>
                        <input type="text" 
                                [(ngModel)]="element.celular"
                                pInputText 
                                style="width: 100%"/>
                </div>
                <div class="ui-lg-2 ui-md-4">
                        <div style="padding-top:20px">
                                <p-checkbox label="Emitir nota fiscal" 
                                        binary="true" 
                                        [(ngModel)]="element.notaFiscal"
                                        [style]="{'padding-top':'20px'}"></p-checkbox>

                        </div>
                </div>
        </div>
</p-panel>
<p-panel header="Informações Escolares" 
        [toggleable]="true" 
        [style]="{'margin-bottom':'20px', 'width':'100%'}"
        [collapsed]="true">
        <div class="ui-g">
                <div class="ui-lg-4 ui-md-6">
                        <label>Curso:</label>
                        <p-autoComplete [(ngModel)]="element.curso" 
                                        [suggestions]="cursoSuggestions" 
                                        (completeMethod)="buscarDropdown($event, 'curso')"
                                        [style]="{'width':'100%'}"
                                        minLength="3"
                                        [forceSelection]="true"
                                        [emptyMessage]="'Não foram encontrados resultados'"
                                        [inputStyle]="{'width':'calc(100% - 2em)'}"
                                        field="nome"
                                        [styleClass]="isCampoInvalido('curso')?'invalidField':''"
                                        [dropdown]="true"></p-autoComplete>
                </div>

                <div class="ui-lg-4 ui-md-6">
                        <label>Matrícula:</label>
                        <div>
                                <div class="ui-lg-6 com md-6" style="padding: 0; float: left;">
                                        <input type="text" 
                                                [(ngModel)]="element.matricula"
                                                pInputText 
                                                style="width: 100%"
                                                [ngClass]="isCampoInvalido('matricula')?'invalidField':''"/>
                                </div>
                                <div class="ui-lg-6 com md-6" style="padding: 0; float: left;">
                                        <button (click)="gerarMatricula()" 
                                                pButton type="button" 
                                                [disabled]="desabilitarBotaoGerarMatriucla()" 
                                                label="Gerar Matrícula"
                                                class="form-button"
                                                title="Gerar Matrícula"></button>
                                </div>
                        </div>
                </div>
                <div class="ui-lg-4 ui-md-6">
                        <label>Situação:</label>
                        <p-autoComplete [(ngModel)]="element.curso" 
                                        [suggestions]="situacaoSuggestions" 
                                        (completeMethod)="buscarDropdown($event, 'situação')"
                                        [style]="{'width':'100%'}"
                                        minLength="1"
                                        [forceSelection]="true"
                                        [emptyMessage]="'Não foram encontrados resultados'"
                                        [inputStyle]="{'width':'calc(100% - 2em)'}"
                                        field="label"
                                        [styleClass]="isCampoInvalido('status')?'invalidField':''"
                                        [dropdown]="true"></p-autoComplete>
                </div>
                <div class="ui-lg-4 ui-md-6">
                        <label>Data de Matrícula:</label>
                        <p-calendar [(ngModel)]="element.dataMatricula" 
                                dateFormat="dd/mm/yy"
                                [showIcon]="true"
                                [style]="{'width':'100%'}"
                                (onSelect)="onSelect('dataMatricula')"
                                [locale]="br"
                                [showButtonBar]="true"
                                [styleClass]="isCampoInvalido('dataMatricula')?'invalidField':''"
                                [inputStyle]="{'width':'calc(100% - 34px)'}"></p-calendar>
                </div>
                <div class="ui-lg-4 ui-md-6">
                        <label>Curso Anterior:</label>
                        <input type="text" 
                                [(ngModel)]="element.cursoAnterior"
                                pInputText 
                                style="width: 100%"/>
                </div>
                <div class="ui-lg-4 ui-md-6">
                        <label>Turma:</label>
                        <p-autoComplete [(ngModel)]="element.turma" 
                                        [suggestions]="turmaSuggestions" 
                                        (completeMethod)="buscarDropdown($event, 'turma')"
                                        [style]="{'width':'100%'}"
                                        minLength="1"
                                        [disabled]="getDisabled('turma')"
                                        [forceSelection]="true"
                                        [emptyMessage]="'Não foram encontrados resultados'"
                                        [inputStyle]="{'width':'calc(100% - 2em)'}"
                                        field="nome"
                                        [dropdown]="true"></p-autoComplete>
                </div>
                <div class="ui-lg-4 ui-md-6">
                        <label>Data de Validade:</label>
                        <p-calendar [(ngModel)]="element.dataValidade" 
                                dateFormat="dd/mm/yy"
                                [showIcon]="true"
                                [style]="{'width':'100%'}"
                                [locale]="br"
                                [showButtonBar]="true"
                                [inputStyle]="{'width':'calc(100% - 34px)'}"></p-calendar>
                </div>
                <div class="ui-lg-4 ui-md-6" *ngIf="element.curso.especializacoes.length > 0">
                        <p-checkbox label="Incluir turma de especialização" 
                                        binary="true" 
                                        [(ngModel)]="inserirEspecializacao"
                                        [style]="{'padding-top':'20px'}"></p-checkbox>
                </div>
                <div class="ui-lg-4 ui-md-6" *ngIf="inserirEspecializacao">
                        <label>Curso de Especialização:</label>
                        <p-autoComplete [(ngModel)]="cursoEspecializacao" 
                                        [suggestions]="cursoEspecializacaoSuggestions" 
                                        (completeMethod)="buscarDropdown($event, 'cursoEspecialização')"
                                        [style]="{'width':'100%'}"
                                        minLength="1"
                                        [forceSelection]="true"
                                        [emptyMessage]="'Não foram encontrados resultados'"
                                        [inputStyle]="{'width':'calc(100% - 2em)'}"
                                        field="nome"
                                        [dropdown]="true"></p-autoComplete>
                </div>
                <div class="ui-lg-4 ui-md-6" *ngIf="inserirEspecializacao">
                        <label>Turma de Especialização:</label>
                        <p-autoComplete [(ngModel)]="element.turmaEspecializacao" 
                                        [suggestions]="turmaEspecializacaoSuggestions" 
                                        (completeMethod)="buscarDropdown($event, 'turmaEspecialização')"
                                        [style]="{'width':'100%'}"
                                        minLength="1"
                                        [forceSelection]="true"
                                        [emptyMessage]="'Não foram encontrados resultados'"
                                        [inputStyle]="{'width':'calc(100% - 2em)'}"
                                        field="nome"
                                        [dropdown]="true"></p-autoComplete>
                </div>
        </div>
</p-panel>
<p-panel header="Notas" 
        [toggleable]="true" 
        [style]="{'margin-bottom':'20px', 'width':'100%'}"
        [collapsed]="true">

        <div *ngFor="let d of disciplinas">

        </div>
</p-panel>
<p-panel header="Observações" 
        [toggleable]="true" 
        [style]="{'margin-bottom':'20px', 'width':'100%'}"
        [collapsed]="true">
        <div class="ui-g form-group">
                <div class="ui-lg-12 ui-md-12" style="margin-bottom: 15px">
                        <label>Observação:</label>
                        <textarea rows="3" pInputTextarea 
                                [(ngModel)]="observacao.obs"
                                style="width:100%"></textarea>
                </div>
                <div class="ui-lg-4 ui-md-4">
                        <label>Data da Observação:</label>
                        <p-calendar [(ngModel)]="observacao.data" 
                                dateFormat="dd/mm/yy"
                                [showIcon]="true"
                                [style]="{'width':'100%'}"
                                [locale]="br"
                                [showButtonBar]="true"
                                [inputStyle]="{'width':'calc(100% - 34px)'}"></p-calendar>
                </div>
                <div class="ui-lg-4 ui-md-4" style="display: flex;">
                        <button (click)="adicionarObservacao()" 
                                pButton type="button" 
                                label="Adicionar"
                                class="form-button"
                                style="align-self: flex-end;"
                                title="Adicionar Observação"></button>
                </div>
                <div class="ui-lg-4 ui-md-4" style="display: flex;">
                        <button (click)="limparObservacao()" 
                                pButton type="button" 
                                label="Limpar"
                                class="form-button"
                                style="align-self: flex-end;"
                                title="Limpar Observação"></button>
                </div>
        </div>
        <table-x [value]="element.observacoes" 
                [colunas]="colunasObservacoes" 
                emptyMessage="Não encontrou resultados para a busca."
                #tableComponent>


        </table-x>
</p-panel>
<div class="ui-lg-4 ui-md-6" style="float:right">
        <button (click)="cadastrarAluno()" 
                pButton type="button" 
                class="form-button"
                label="Cadastrar"
                style="height:34px"
                class="form-button"
                title="Cadastrar Aluno"></button>
</div>